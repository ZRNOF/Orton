{"mappings":"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","sources":["src/src/DataType.ts","src/src/errorMask.ts","src/src/Shader.ts","src/src/Buffer.ts","src/src/Vertex.ts","src/src/BindGroup.ts","src/src/Pipeline.ts","src/src/Pass.ts","src/src/Orton.ts","src/Orton.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,"import { Data } from \"./DataType.js\"\r\nimport { errorMask } from \"./errorMask.js\"\r\nimport { Shader } from \"./Shader.js\"\r\nimport { Buffer } from \"./Buffer.js\"\r\nimport { createVertexAttribute, createVertexBufferLayout } from \"./Vertex.js\"\r\nimport { Binding, Group, BindGroup } from \"./BindGroup.js\"\r\nimport {\r\n\tPipeline,\r\n\tPipelineLayout,\r\n\tComputePipeline,\r\n\tRenderPipeline,\r\n} from \"./Pipeline.js\"\r\nimport {\r\n\tPass,\r\n\tbeginComputePass,\r\n\tbeginRenderPass,\r\n\tcreateRenderPassDescriptor,\r\n} from \"./Pass.js\"\r\n\r\nconst init = async (\r\n\tcanvas: HTMLCanvasElement,\r\n\toptions?: GPUDeviceDescriptor | undefined\r\n) => {\r\n\tconst gpu: GPU = (navigator as any).gpu\r\n\r\n\tif (!gpu) {\r\n\t\tconst msg = `WebGPU is not supported in this browser`\r\n\t\tconsole.error(msg)\r\n\t\terrorMask(\"Error\", msg)\r\n\t\treturn\r\n\t}\r\n\r\n\tconst adapter = await gpu.requestAdapter()\r\n\tif (!adapter) {\r\n\t\tconst msg = `couldn't request WebGPU adapter`\r\n\t\tconsole.error(msg)\r\n\t\terrorMask(\"Error\", msg)\r\n\t\treturn\r\n\t}\r\n\r\n\tconst device = await adapter?.requestDevice(options)\r\n\tdevice.lost.then(() => {\r\n\t\tconst msg = `WebGPU device was lost...`\r\n\t\tconsole.error(msg)\r\n\t\treturn\r\n\t})\r\n\r\n\tconst context = canvas.getContext(\"webgpu\")\r\n\tconst preferredFormat = gpu.getPreferredCanvasFormat()\r\n\tconst queue = device.queue\r\n\tconst getCurrentTexture = () => context?.getCurrentTexture()\r\n\tconst createView = () => context?.getCurrentTexture().createView()\r\n\tconst CommandEncoder = (device: GPUDevice) => device.createCommandEncoder()\r\n\r\n\treturn {\r\n\t\tgpu,\r\n\t\tadapter,\r\n\t\tdevice,\r\n\t\tcontext,\r\n\t\tpreferredFormat,\r\n\t\tqueue,\r\n\t\tgetCurrentTexture,\r\n\t\tcreateView,\r\n\t\tCommandEncoder,\r\n\t\t// Shader\r\n\t\tShader,\r\n\t\t// Buffer\r\n\t\tBuffer,\r\n\t\t// Vertex\r\n\t\tcreateVertexAttribute,\r\n\t\tcreateVertexBufferLayout,\r\n\t\t// BindGroup\r\n\t\tBinding,\r\n\t\tGroup,\r\n\t\tBindGroup,\r\n\t\t// Pipeline\r\n\t\tPipelineLayout,\r\n\t\tComputePipeline,\r\n\t\tRenderPipeline,\r\n\t\tPipeline,\r\n\t\t// Pass\r\n\t\tbeginComputePass,\r\n\t\tbeginRenderPass,\r\n\t\tcreateRenderPassDescriptor,\r\n\t\tPass,\r\n\t}\r\n}\r\n\r\nconst Orton = { init }\r\n\r\nexport {\r\n\tData,\r\n\tOrton,\r\n\tinit,\r\n\t// Shader\r\n\tShader,\r\n\t// Buffer\r\n\tBuffer,\r\n\t// Vertex\r\n\tcreateVertexAttribute,\r\n\tcreateVertexBufferLayout,\r\n\t// BindGroup\r\n\tBinding,\r\n\tGroup,\r\n\tBindGroup,\r\n\t// Pipeline\r\n\tPipelineLayout,\r\n\tComputePipeline,\r\n\tRenderPipeline,\r\n\tPipeline,\r\n\t// Pass\r\n\tbeginComputePass,\r\n\tbeginRenderPass,\r\n\tcreateRenderPassDescriptor,\r\n\tPass,\r\n}\r\n"],"names":[],"version":3,"file":"Orton.d.ts.map"}